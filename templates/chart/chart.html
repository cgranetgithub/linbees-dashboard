{% load staticfiles %}

<script type="text/javascript">
    // TODO: should be done only once to avoid consuming time
    google.load("visualization", "1", {packages:["corechart"]});
</script>

<img id="wait_{{ divname }}" src="{% static 'dashboard/ajax-loader.gif' %}" style='display: block; margin: auto auto;' />
<div id="{{ divname }}" class="chart">
</div>

<script>
$("#{{ divname }}").ready(function(){
  $("#{{ divname }}").ajaxStart(function(){
    $("#wait_{{ divname }}").css("display","block");
  });
  $("#{{ divname }}").ajaxComplete(function(){
    $("#wait_{{ divname }}").css("display","none");
  });
});
</script>